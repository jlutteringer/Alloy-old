<?xml version="1.0" encoding="UTF-8"?>
<Context useNaming="true" antiJARLocking="true" docBase="${app.location}" cachingAllowed="false">
	<WatchedResource>WEB-INF/web.xml</WatchedResource>

	<Resource name="jdbc/pepboys"
			  auth="Container"
			  type="javax.sql.DataSource"
			  factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
			  driverClassName="com.mysql.jdbc.Driver"
			  url="jdbc:mysql://${mysql.host}:3306/${mysql.schema}?rewriteBatchedStatements=true&amp;autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF8"
			  username="${mysql.username}"
			  password="${mysql.password}"

			  initialSize="20"
			  maxActive="100"
			  maxIdle="40"
			  minIdle="30"

			  testOnBorrow="true"
			  validationQuery="SELECT 1"
			  validationInterval="30000"

			  timeBetweenEvictionRunsMillis="30000"
			  minEvictableIdleTimeMillis="60000"
			  removeAbandoned="true"
			  removeAbandonedTimeout="60"
			  logAbandoned="true"
			  maxAge="300000"

			  jdbcInterceptors="org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer;org.apache.tomcat.jdbc.pool.interceptor.ResetAbandonedTimer"/>

	<Resource name="jdbc/blc"
			  auth="Container"
			  type="javax.sql.DataSource"
			  factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
			  driverClassName="com.mysql.jdbc.Driver"
			  url="jdbc:mysql://${mysql.host}:3306/${mysql.blc.schema}?rewriteBatchedStatements=true&amp;autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF8"
			  username="${mysql.username}"
			  password="${mysql.password}"

			  initialSize="20"
			  maxActive="100"
			  maxIdle="40"
			  minIdle="30"

			  testOnBorrow="true"
			  validationQuery="SELECT 1"
			  validationInterval="30000"

			  timeBetweenEvictionRunsMillis="30000"
			  minEvictableIdleTimeMillis="60000"
			  removeAbandoned="true"
			  removeAbandonedTimeout="60"
			  logAbandoned="true"
			  maxAge="300000"

			  jdbcInterceptors="org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer;org.apache.tomcat.jdbc.pool.interceptor.ResetAbandonedTimer"/>

	<Resource name="jdbc/pdat"
			  auth="Container"
			  type="javax.sql.DataSource"
			  factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
			  driverClassName="com.mysql.jdbc.Driver"
			  url="jdbc:mysql://${mysql.pdat.host}:3306/${mysql.pdat.schema}?rewriteBatchedStatements=true&amp;autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF8"
			  username="${mysql.pdat.username}"
			  password="${mysql.pdat.password}"

			  initialSize="3"
			  maxActive="25"
			  maxIdle="13"
			  minIdle="3"

			  testOnBorrow="true"
			  validationQuery="SELECT 1"
			  validationInterval="30000"

			  timeBetweenEvictionRunsMillis="30000"
			  minEvictableIdleTimeMillis="60000"
			  removeAbandoned="true"
			  removeAbandonedTimeout="60"
			  logAbandoned="true"
			  maxAge="300000"

			  jdbcInterceptors="org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer;org.apache.tomcat.jdbc.pool.interceptor.ResetAbandonedTimer" />

</Context>